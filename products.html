<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">

  <title>React on an HTML page</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css">

</head>

<body>
  <section>
    <header class="header">
      <h1 class="header__heading">FunWater</h1>
      <nav class="header__nav">
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a href="#">Products</a>
          </li>
          <li>
            <a href="contact.html">Contact</a>
          </li>
        </ul>
      </nav>
    </header>
  </section>
  <div id="root"></div>
  <footer class="footer">
    <nav class="footer__nav">
      <ul class="nav__ul--pages">
        <li>
          <a href="index.html">Home</a>
        </li>
        <li>
          <a href="#">Products</a>
        </li>
        <li>
          <a href="contact.html">Contact</li>
      </ul>
      <ul class="nav__ul--social">
        <li>
          <img src="img/facebook.svg" alt="This is an icon that links to Facebook">
        </li>
        <li>
          <img src="img/twitter.svg" alt="This is an icon that links to Twitter">
        </li>
        <li>
          <img src="img/youtube.svg" alt="This is an icon that links to YouTube">
        </li>
      </ul>
    </nav>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
  <script type="text/babel">
  
  class Greeting extends React.Component {

      constructor() {
        super();

        this.state = {
          waters: [],
          hasWaters: false
        };
        this.callback = this.callback.bind(this);
      }

      componentDidMount(){
        fetch('https://api.jsonbin.io/b/5b9b0db70fbf2833e2251341')
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          this.setState({
            waters: data.products,
            hasWaters: true
          })
        })
      }

      callback(el){
        return <ProductCard info={el} key={el.productId}/>
      }

      render() {
        if(this.state.hasWaters === false) {
            return null
          }
        return (
          <div>
            {this.state.waters.map(this.callback)}
          </div>
        );
    }
  }

  function ProductCard(props){
    return(
      <div>
        <p>{props.info.title}</p>
        <p>{props.info.price}</p>
        <p>{props.info.description}</p>
        <img src='./img/lemon.png' alt="product images" />
      </div>
    );
  }

  ReactDOM.render( <Greeting />, document.getElementById('root'));
      
</script>
</body>

</html>




<!-- 1) constructor
2) componentWillMount() is called
3) render() is executed
4) componentDidMount() is called
  this is where you can cause side effects!!!!! -->
